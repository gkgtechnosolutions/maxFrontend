<app-loader *ngIf="loader"></app-loader>
<div>
  <div class="row">
    <div class="col-sm-4">
      <div class="newcard">
        <div class="card-body">
          <h5 class="card-title">Total Accounts</h5>
          <p class="card-text">{{ activeAccount }}</p>
        </div>
        
      </div>
    </div>
    <div class="col-sm-4">
      <div class="newcard2">
        <div class="card-body">
          <h5 class="card-title">Slots</h5>
        
        </div>
        <div class="temp-scale" (click)="openBankSlots()" >
          <i class="fa-solid fa-arrow-right" style="color: #926108"></i>
        </div>
      </div>
      <div class="newcard2">
        <div class="card-body">
          <h5 class="card-title">Amount Range</h5>
          
        </div>
        <div class="temp-scale" (click)="openAmountRange()" >
          <i class="fa-solid fa-arrow-right" style="color: #926108"></i>
        </div>
      </div>
    </div>
    <div class="col-sm-4">
      <button
        class="col-sm-4 mb-3 b1"
        id="b2"
        style="background-color: #e2bd01"
        (click)="openDialog()"
      >
        Add Bank
      </button>
      <button
        class="col-sm-4 mb-3 b1"
        id="b3"
        style="background: linear-gradient(to right, #cb9900, #ab7702)"
        (click)="openCheckBank()"
      >
        Check Accounts
      </button>
      <button
        class="col-sm-4 b1"
        id="b4"
        style="background: linear-gradient(to right, #a67102, #89580a)"
        (click)="openUpdateBank()"
      >
        Update Bank Details
      </button>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-8">
    <input
      class="inp"
      matInput
      placeholder="Username"
      #input
      (input)="filterData(input.value)"
    />
  </div>
  <div class="col-sm-4">
    <button
      class="inp"
      id="s1"
      style="
        background: linear-gradient(to right, #74480f, #442504);
        color: #fffbfb;
        font-size: 500;
      "
      (click)="filterData(input.value)"
    >
      Search
    </button>
  </div>
</div>

<div class="example-container mat-elevation-z8 tbl" [hidden]="false">
  <mat-table
    style="background-color: rgb(5, 5, 5)"
    #table
    [dataSource]="dataSource"
    matSort
  >
    <ng-container matColumnDef="position">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        No.
      </mat-header-cell>
      <mat-cell
        *matCellDef="let element; let i = index"
        style="color: rgb(241, 237, 237)"
      >
        {{ i + 1 }}</mat-cell
      >
    </ng-container>

    <ng-container matColumnDef="bankName">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        BankName
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white">
        {{ element.bankName }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="accId">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        AccNum
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white">
        {{ element.accountNumber }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="bankHolderName">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        bankHolderName
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white">
        {{ element.bankHolderName }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="ifscCode">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        IfscCode
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white">
        {{ element.ifscode }}
      </mat-cell>
    </ng-container>

    <!-- <ng-container matColumnDef="balance">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        Balance
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white">
        {{ element.balance }}
      </mat-cell>
    </ng-container> -->

    <ng-container matColumnDef="status">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        Status
      </mat-header-cell>
      <mat-cell *matCellDef="let element" style="color: white ; ">
        {{ element.freeze ? "Freeze" : "Active" }}
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="Operation" [sticky]="true">
      <mat-header-cell *matHeaderCellDef style="color: #ffd700">
        Operations
      </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <span style="color: #fffbfb;  cursor: pointer;" class="material-symbols-outlined" (click)="openDialogAttach(element)"  matTooltip="Add Slot & AmountRange" >
          library_add
          </span>
          <span class="material-symbols-outlined" style="color: #f9c0c0;  cursor: pointer;" (click)="unlinked(element.id)" matTooltip="Unlink Slot & AmountRange" >
            tab_close
            </span>
      </mat-cell>
    </ng-container>

    <mat-header-row
      class="rowheader"
      *matHeaderRowDef="displayedColumns"
    ></mat-header-row>
    <mat-row
      class="rowheader"
      *matRowDef="let row; columns: displayedColumns"
    ></mat-row>
  </mat-table>
</div>

